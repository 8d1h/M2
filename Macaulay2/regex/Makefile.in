# @configure_input@
VPATH = @srcdir@
CFILES = regex.c
all :: $(CFILES:.c=.o)
include ../../include/config.Makefile
.PHONY : all clean distclean install tar check tags

%.s : %.c
	@ echo '$(COMPILE.c) -S $(OUTPUT_OPTION) $<' >> LOGFILE
	@ echo " ** compiling $< to assembly code, making $@"
	@ $(COMPILE.c) -S $(OUTPUT_OPTION) $<
%.E : %.c
	@ echo '$(COMPILE.c) -E $(OUTPUT_OPTION) $<' >> LOGFILE
	@ echo " ** preprocessing $<, making $@"
	@ $(COMPILE.c) -E $(OUTPUT_OPTION) $<
%.dep: %.c
	@ echo "$(CC)  -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep" >> LOGFILE
	@ echo " ** creating $@ from $<"
	@ $(CC)  -MM $(CPPFLAGS) $< >$*-tmp.dep && <$*-tmp.dep sed 's/\($*\)\.o[ :]*/\1.o $@ : /' >$@ && rm $*-tmp.dep

@srcdir@/TAGS: $(CFILES); cd @srcdir@ && etags $(CFILES)
DEPENDS = yes
ifeq "$(DEPENDS)" "yes"
include $(CFILES:.c=.dep) $(CCFILES:.cpp=.dep)
endif
all tags:: @srcdir@/TAGS
clean :: ; rm -f *.o *.dep
Makefile : Makefile.in; cd ../..; ./config.status Macaulay2/regex/Makefile
distclean::; rm -f Makefile

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/regex "
# End:

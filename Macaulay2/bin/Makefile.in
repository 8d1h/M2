# @configure_input@
include ../../include/config.Makefile
VPATH = @srcdir@

.PHONY : all clean distclean

all ::

install :: @encapdir@/$(binRelDir) @encapdir@/$(binRelDir)/M2@EXE@

@encapdir@/$(binRelDir) :; @INSTALL@ -d "$@"

@encapdir@/$(binRelDir)/M2@EXE@ : M2@EXE@; @INSTALL_PROGRAM@ M2@EXE@ @encapdir@/$(binRelDir)/M2@EXE@

# install       :: @encapdir@/$(binRelDir)/M2-load-libs
# @encapdir@/$(binRelDir)/M2-load-libs : M2-load-libs ; @INSTALL@ $^ $@

# install       :: @encapdir@/$(binRelDir)/M2-emacs
# @encapdir@/$(binRelDir)/M2-emacs : M2-emacs ; @INSTALL@ $^ $@

# install       :: @encapdir@/$(binRelDir)/M2-help
# @encapdir@/$(binRelDir)/M2-help : M2-help ; @INSTALL@ $^ $@

# shared library links 
ifeq (@ENCAP@,yes)
ifeq (@OS@,Linux)
ifeq (@TARLIBS@,yes)
make-lib-links install :: @encapdir@/$(libRelDir); @srcdir@/liblinks M2@EXE@ @encapdir@/$(libRelDir)
@encapdir@/$(libRelDir):; @INSTALL@ -d "$@"
endif
endif
endif

clean::; rm -f M2@EXE@
distclean::; rm -f Makefile
distclean:: clean
Makefile : Makefile.in; cd ../..; ./config.status Macaulay2/bin/Makefile

# Local Variables:
# compile-command: "make -C $M2BUILDDIR/Macaulay2/bin install"
# End:
